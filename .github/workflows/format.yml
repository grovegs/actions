name: ğŸ“ Format

on:
    push:
        branches:
            - main
            - develop
    pull_request:
        branches:
            - main
            - develop

permissions:
    contents: read

jobs:
    format-dotnet:
        name: Format .NET Files
        runs-on: ubuntu-latest

        steps:
            - name: ğŸ“‚ Checkout Code
              uses: actions/checkout@v4

            - name: ğŸ”§ Setup .NET
              uses: ./.github/actions/setup-dotnet
              with:
                  global-json-file: sandbox/ConsoleApp/global.json

            - name: ğŸ¨ Format .NET ConsoleApp
              uses: ./.github/actions/format-dotnet
              with:
                  project: sandbox/ConsoleApp

            - name: ğŸ¨ Format .NET GodotApplication
              uses: ./.github/actions/format-dotnet
              with:
                  project: sandbox/GodotApplication

    format-files:
        name: Format Files
        runs-on: ubuntu-latest

        steps:
            - name: ğŸ“‚ Checkout Code
              uses: actions/checkout@v4

            - name: ğŸ¨ Format YAML, JSON, Markdown
              uses: ./.github/actions/format-files
              with:
                  files: "**/*.{yml,yaml,json,md}"
                  ignore-path: ".gitignore"

    format-shell:
        name: Format Shell Scripts
        runs-on: ubuntu-latest

        steps:
            - name: ğŸ“‚ Checkout Code
              uses: actions/checkout@v4

            - name: ğŸ¨ Format Shell Scripts
              uses: ./.github/actions/format-shell
              with:
                  path: "."
                  exclude-paths: "./sandbox"
